{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * AURAL-BLOCKZ.BLOG — Полный функционал платформы\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК И AOS\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n    if (typeof AOS !== 'undefined') {\n        AOS.init({ duration: 1000, once: true });\n    }\n\n    // 2. VANTA.JS NET EFFECT (HERO ANIMATION)\n    if (document.getElementById('hero-vanta-bg') && typeof VANTA !== 'undefined') {\n        VANTA.NET({\n            el: \"#hero-vanta-bg\",\n            mouseControls: true,\n            touchControls: true,\n            gyroControls: false,\n            minHeight: 200.00,\n            minWidth: 200.00,\n            scale: 1.00,\n            scaleMobile: 1.00,\n            color: 0x6366f1,\n            backgroundColor: 0xf8fafc,\n            points: 10.00,\n            maxDistance: 20.00,\n            spacing: 16.00\n        });\n    }\n\n    // 3. ПЛАВНЫЙ СКРОЛЛ (LENIS)\n    if (typeof Lenis !== 'undefined') {\n        const lenis = new Lenis();\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n\n        document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n            anchor.addEventListener('click', function(e) {\n                e.preventDefault();\n                const target = document.querySelector(this.getAttribute('href'));\n                if (target) lenis.scrollTo(target);\n            });\n        });\n    }\n\n    // 4. HEADER & MOBILE MENU\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.burger');\n    const mobileOverlay = document.querySelector('.mobile-overlay');\n    const mobileClose = document.querySelector('.mobile-close');\n\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    if (burger) {\n        burger.onclick = () => {\n            mobileOverlay.classList.add('active');\n            document.body.style.overflow = 'hidden';\n        };\n    }\n\n    if (mobileClose) {\n        mobileClose.onclick = () => {\n            mobileOverlay.classList.remove('active');\n            document.body.style.overflow = '';\n        };\n    }\n\n    // 5. ЛОГИКА БЛОГА: ЗАГРУЗКА ТОЛЬКО ПЕРВОГО ЭЛЕМЕНТА\n    // Эта функция находит сетку блога и скрывает всё, кроме первого поста\n    const initBlogFilter = () => {\n        const blogGrid = document.querySelector('.blog .grid-3');\n        if (blogGrid && blogGrid.children.length > 0) {\n            const posts = Array.from(blogGrid.children);\n            posts.forEach((post, index) => {\n                if (index !== 0) {\n                    post.style.display = 'none'; // Скрываем все, кроме первого\n                }\n            });\n            console.log(\"Блог: отображен только последний актуальный пост.\");\n        }\n    };\n    initBlogFilter();\n\n    // 6. ФОРМА КОНТАКТОВ + КАПЧА\n    const contactForm = document.getElementById('main-form');\n    const captchaLabel = document.getElementById('captcha-text');\n    const formMessage = document.getElementById('form-message');\n\n    let n1 = Math.floor(Math.random() * 10) + 1;\n    let n2 = Math.floor(Math.random() * 5) + 1;\n    let result = n1 + n2;\n    if (captchaLabel) captchaLabel.innerText = `${n1} + ${n2} = `;\n\n    if (contactForm) {\n        contactForm.onsubmit = (e) => {\n            e.preventDefault();\n            const userAns = document.getElementById('captcha-input').value;\n            const phone = document.getElementById('phone').value;\n\n            // Валидация телефона (цифры)\n            if (!/^[0-9+\\-\\s()]+$/.test(phone)) {\n                alert(\"Ошибка: Неверный формат телефона\");\n                return;\n            }\n\n            // Валидация капчи\n            if (parseInt(userAns) !== result) {\n                alert(\"Ошибка капчи!\");\n                return;\n            }\n\n            formMessage.innerText = \"Отправка...\";\n            setTimeout(() => {\n                formMessage.innerText = \"Успешно! Мы свяжемся с вами.\";\n                formMessage.style.color = \"var(--accent-secondary)\";\n                contactForm.reset();\n            }, 1500);\n        };\n    }\n\n    // 7. COOKIE POPUP\n    const cookiePopup = document.getElementById('cookie-popup');\n    if (cookiePopup && !localStorage.getItem('cookies_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2000);\n    }\n    document.getElementById('cookie-accept').onclick = () => {\n        localStorage.setItem('cookies_accepted', 'true');\n        cookiePopup.classList.remove('active');\n    };\n});"],"names":["raf","time","lenis","anchor","e","target","header","burger","mobileOverlay","mobileClose","blogGrid","post","index","contactForm","captchaLabel","formMessage","n1","n2","result","userAns","phone","cookiePopup"],"mappings":"0uBAIA,SAAS,iBAAiB,mBAAoB,IAAM,CA4BhD,GAzBI,OAAO,OAAW,KAAa,OAAO,YAAa,EACnD,OAAO,IAAQ,KACf,IAAI,KAAK,CAAE,SAAU,IAAM,KAAM,GAAM,EAIvC,SAAS,eAAe,eAAe,GAAK,OAAO,MAAU,KAC7D,MAAM,IAAI,CACN,GAAI,iBACJ,cAAe,GACf,cAAe,GACf,aAAc,GACd,UAAW,IACX,SAAU,IACV,MAAO,EACP,YAAa,EACb,MAAO,QACP,gBAAiB,SACjB,OAAQ,GACR,YAAa,GACb,QAAS,EACrB,CAAS,EAID,OAAO,MAAU,IAAa,CAE9B,IAASA,EAAT,SAAaC,EAAM,CACfC,EAAM,IAAID,CAAI,EACd,sBAAsBD,CAAG,CACrC,EAJQ,MAAME,EAAQ,IAAI,MAKlB,sBAAsBF,CAAG,EAEzB,SAAS,iBAAiB,cAAc,EAAE,QAAQG,GAAU,CACxDA,EAAO,iBAAiB,QAAS,SAASC,EAAG,CACzCA,EAAE,eAAgB,EAClB,MAAMC,EAAS,SAAS,cAAc,KAAK,aAAa,MAAM,CAAC,EAC3DA,GAAQH,EAAM,SAASG,CAAM,CACjD,CAAa,CACb,CAAS,CACT,CAGI,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAc,SAAS,cAAc,eAAe,EAE1D,OAAO,iBAAiB,SAAU,IAAM,CACpCH,EAAO,UAAU,OAAO,mBAAoB,OAAO,QAAU,EAAE,CACvE,CAAK,EAEGC,IACAA,EAAO,QAAU,IAAM,CACnBC,EAAc,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,MAAM,SAAW,QAClC,GAGDC,IACAA,EAAY,QAAU,IAAM,CACxBD,EAAc,UAAU,OAAO,QAAQ,EACvC,SAAS,KAAK,MAAM,SAAW,EAClC,IAKkB,IAAM,CACzB,MAAME,EAAW,SAAS,cAAc,eAAe,EACnDA,GAAYA,EAAS,SAAS,OAAS,IACzB,MAAM,KAAKA,EAAS,QAAQ,EACpC,QAAQ,CAACC,EAAMC,IAAU,CACvBA,IAAU,IACVD,EAAK,MAAM,QAAU,OAEzC,CAAa,EACD,QAAQ,IAAI,mDAAmD,EAEtE,GACe,EAGhB,MAAME,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAc,SAAS,eAAe,cAAc,EAE1D,IAAIC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACtCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EACrCC,EAASF,EAAKC,EACdH,IAAcA,EAAa,UAAY,GAAGE,CAAE,MAAMC,CAAE,OAEpDJ,IACAA,EAAY,SAAYT,GAAM,CAC1BA,EAAE,eAAgB,EAClB,MAAMe,EAAU,SAAS,eAAe,eAAe,EAAE,MACnDC,EAAQ,SAAS,eAAe,OAAO,EAAE,MAG/C,GAAI,CAAC,kBAAkB,KAAKA,CAAK,EAAG,CAChC,MAAM,kCAAkC,EACxC,MAChB,CAGY,GAAI,SAASD,CAAO,IAAMD,EAAQ,CAC9B,MAAM,eAAe,EACrB,MAChB,CAEYH,EAAY,UAAY,cACxB,WAAW,IAAM,CACbA,EAAY,UAAY,+BACxBA,EAAY,MAAM,MAAQ,0BAC1BF,EAAY,MAAO,CACtB,EAAE,IAAI,CACV,GAIL,MAAMQ,EAAc,SAAS,eAAe,cAAc,EACtDA,GAAe,CAAC,aAAa,QAAQ,kBAAkB,GACvD,WAAW,IAAMA,EAAY,UAAU,IAAI,QAAQ,EAAG,GAAI,EAE9D,SAAS,eAAe,eAAe,EAAE,QAAU,IAAM,CACrD,aAAa,QAAQ,mBAAoB,MAAM,EAC/CA,EAAY,UAAU,OAAO,QAAQ,CACxC,CACL,CAAC"}