{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. Инициализация UI\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n    if (typeof AOS !== 'undefined') AOS.init({ duration: 900, once: true });\n\n    // 2. 3D Фон Vanta\n    if (document.getElementById('hero-vanta-bg') && typeof VANTA !== 'undefined') {\n        VANTA.NET({\n            el: \"#hero-vanta-bg\",\n            mouseControls: true,\n            touchControls: true,\n            color: 0x6366f1,\n            backgroundColor: 0xf8fafc,\n            points: 10.0,\n            maxDistance: 20.0,\n            spacing: 16.0\n        });\n    }\n\n    // 3. Lenis (Плавный скролл)\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 4. БЛОГ: ПРАВИЛЬНЫЙ FOR-EACH (Staggered Animation)\n    const blogPosts = document.querySelectorAll('.post-card');\n    \n    blogPosts.forEach((post, index) => {\n        // Устанавливаем задержку для каждого последующего элемента\n        setTimeout(() => {\n            post.style.transition = \"all 0.8s cubic-bezier(0.2, 1, 0.3, 1)\";\n            post.style.opacity = \"1\";\n            post.style.transform = \"translateY(0)\";\n        }, index * 200); // Интервал 200мс между карточками\n    });\n\n    // 5. МОБИЛЬНОЕ МЕНЮ\n    const burger = document.querySelector('.burger');\n    const overlay = document.querySelector('.mobile-overlay');\n    const closeBtn = document.querySelector('.mobile-close');\n\n    if (burger) {\n        burger.onclick = () => overlay.classList.add('active');\n    }\n    if (closeBtn) {\n        closeBtn.onclick = () => overlay.classList.remove('active');\n    }\n\n    // 6. ФОРМА И КАПЧА\n    const form = document.getElementById('main-form');\n    let n1 = Math.floor(Math.random() * 9) + 1;\n    let n2 = Math.floor(Math.random() * 5);\n    let result = n1 + n2;\n\n    const capText = document.getElementById('captcha-text');\n    if (capText) capText.innerText = `${n1} + ${n2} = `;\n\n    if (form) {\n        form.onsubmit = (e) => {\n            e.preventDefault();\n            const ans = document.getElementById('captcha-input').value;\n            if (parseInt(ans) === result) {\n                document.getElementById('form-message').innerText = \"Успешно отправлено!\";\n                form.reset();\n            } else {\n                alert(\"Ошибка капчи\");\n            }\n        };\n    }\n\n    // 7. COOKIE\n    const cp = document.getElementById('cookie-popup');\n    if (cp && !localStorage.getItem('cookies_v1')) {\n        setTimeout(() => cp.classList.add('active'), 2000);\n    }\n    document.getElementById('cookie-accept').onclick = () => {\n        localStorage.setItem('cookies_v1', 'y');\n        cp.classList.remove('active');\n    };\n});"],"names":["lenis","raf","time","post","index","burger","overlay","closeBtn","form","n1","n2","result","capText","e","ans","cp"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAG5C,OAAO,OAAW,KAAa,OAAO,YAAa,EACnD,OAAO,IAAQ,KAAa,IAAI,KAAK,CAAE,SAAU,IAAK,KAAM,GAAM,EAGlE,SAAS,eAAe,eAAe,GAAK,OAAO,MAAU,KAC7D,MAAM,IAAI,CACN,GAAI,iBACJ,cAAe,GACf,cAAe,GACf,MAAO,QACP,gBAAiB,SACjB,OAAQ,GACR,YAAa,GACb,QAAS,EACrB,CAAS,EAIL,MAAMA,EAAQ,IAAI,MAClB,SAASC,EAAIC,EAAM,CACfF,EAAM,IAAIE,CAAI,EACd,sBAAsBD,CAAG,CACjC,CACI,sBAAsBA,CAAG,EAGP,SAAS,iBAAiB,YAAY,EAE9C,QAAQ,CAACE,EAAMC,IAAU,CAE/B,WAAW,IAAM,CACbD,EAAK,MAAM,WAAa,wCACxBA,EAAK,MAAM,QAAU,IACrBA,EAAK,MAAM,UAAY,eACnC,EAAWC,EAAQ,GAAG,CACtB,CAAK,EAGD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,iBAAiB,EAClDC,EAAW,SAAS,cAAc,eAAe,EAEnDF,IACAA,EAAO,QAAU,IAAMC,EAAQ,UAAU,IAAI,QAAQ,GAErDC,IACAA,EAAS,QAAU,IAAMD,EAAQ,UAAU,OAAO,QAAQ,GAI9D,MAAME,EAAO,SAAS,eAAe,WAAW,EAChD,IAAIC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EACrCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EACjCC,EAASF,EAAKC,EAElB,MAAME,EAAU,SAAS,eAAe,cAAc,EAClDA,IAASA,EAAQ,UAAY,GAAGH,CAAE,MAAMC,CAAE,OAE1CF,IACAA,EAAK,SAAYK,GAAM,CACnBA,EAAE,eAAgB,EAClB,MAAMC,EAAM,SAAS,eAAe,eAAe,EAAE,MACjD,SAASA,CAAG,IAAMH,GAClB,SAAS,eAAe,cAAc,EAAE,UAAY,sBACpDH,EAAK,MAAO,GAEZ,MAAM,cAAc,CAE3B,GAIL,MAAMO,EAAK,SAAS,eAAe,cAAc,EAC7CA,GAAM,CAAC,aAAa,QAAQ,YAAY,GACxC,WAAW,IAAMA,EAAG,UAAU,IAAI,QAAQ,EAAG,GAAI,EAErD,SAAS,eAAe,eAAe,EAAE,QAAU,IAAM,CACrD,aAAa,QAAQ,aAAc,GAAG,EACtCA,EAAG,UAAU,OAAO,QAAQ,CAC/B,CACL,CAAC"}